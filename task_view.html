<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>1CER.RU</title>
  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="../../plugins/fontawesome-free/css/all.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- daterange picker -->
  <link rel="stylesheet" href="../../plugins/daterangepicker/daterangepicker.css">
  <!-- iCheck for checkboxes and radio inputs -->
  <link rel="stylesheet" href="../../plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <!-- Bootstrap Color Picker -->
  <link rel="stylesheet" href="../../plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet" href="../../plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
  <!-- Select2 -->
  <link rel="stylesheet" href="../../plugins/select2/css/select2.min.css">
  <link rel="stylesheet" href="../../plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css">
  <!-- Bootstrap4 Duallistbox -->
  <link rel="stylesheet" href="../../plugins/bootstrap4-duallistbox/bootstrap-duallistbox.min.css">
  <!-- BS Stepper -->
  <link rel="stylesheet" href="../../plugins/bs-stepper/css/bs-stepper.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="../../dist/css/adminlte.min.css">
  <!-- summernote -->
  <link rel="stylesheet" href="../../plugins/summernote/summernote-bs4.min.css">
  <!-- CodeMirror -->
  <link rel="stylesheet" href="../../plugins/codemirror/codemirror.css">
  <link rel="stylesheet" href="../../plugins/codemirror/theme/monokai.css">
  <!-- Custom styles-->
  <link rel="stylesheet" href="../../static/CSS/custom.css">
  <link rel="stylesheet" href="../../static/CSS/modal-box.css">
  <link rel="stylesheet" href="../../static/CSS/loading.css">
  <style id="__web-inspector-hide-shortcut-style__">
    .__web-inspector-hide-shortcut__, .__web-inspector-hide-shortcut__ *, .__web-inspector-hidebefore-shortcut__::before, .__web-inspector-hideafter-shortcut__::after
    {
        visibility: hidden !important;
    }
    </style>
</head>
<body class="hold-transition sidebar-mini">
  <div id="pop-up-box" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <span id="close-btn" class="close">&times;</span>
      <h5 id="pop-up-box-message-text"></h5>
    </div>
  </div>
  <div id="pop-up-box-loading" class="modal" style="display: block;">
    <!-- Modal content -->
    <div class="pop-up-loading">
      <div id="moveable">
      </div>
      <div id="moveable1">
      </div>
      <div id="moveable2">
      </div>
      <div id="moveable3">
      </div>
      <div id="moveable4">
      </div>
      <div id="moveable5">
      </div>
    </div>
  </div>
  <script>
    const STORAGE = localStorage.getItem('token') ? localStorage : sessionStorage;
    const TOKEN = STORAGE.getItem('token');
    const popUpBoxLoading = document.querySelector("#pop-up-box-loading");
  
    if (TOKEN) {
        popUpBoxLoading.style.display = "block";
        fetch (
          '/api/user/current', 
          {
            method: "GET",
            headers: {
                "Authorization": TOKEN,
            }
          })
          .then((resp)=>{
              let data = resp.json();
              return data;
          })
          .then((data) => {
              if (data.error) {
                STORAGE.clear();
                location.href = "/";
              }
          })
    } else {
      location.href = "/";
    }
  </script>

<div class="wrapper">
  
  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
      </li>
    </ul>
  </nav>
  <!-- /.navbar -->

  <!-- Main Sidebar Container -->
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a class="brand-link" id="brand-link">
      <!--<img src="dist/img/AdminLTELogo.png" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity: .8">-->
      <span class="brand-text font-weight-light" style="text-align: center;">1CER.RU</span>
    </a>

    <div class="sidebar">
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar nav-child-indent flex-column" data-widget="treeview" role="menu" data-accordion="false" id="menu-btn-container">
          <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->

        </ul>
      </nav>
    </div>
    <div class="sidebar">
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar nav-child-indent flex-column" data-widget="treeview" role="menu" data-accordion="false" id=logout-btn>
          <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->

        </ul>
      </nav>

    </div>
    
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper" style="min-height: 2168.88px;">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="m-0" class="col-sm-6">
            <h1 id="main-header"></h1>
            <h5 id="sub-header"></h5>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">
        <div class="row">
          <!-- left column -->
          <div class="col-md-6">
            <!-- general form elements -->
            <div class="card card-default" style="border-top: 3px solid #007bff;">
              <div class="card-header">
                <h3 class="card-title">Информация о задаче</h3>
              </div>
              <!-- /.card-header -->
              <div class="card-body" id="card-body-left-column">
                <form>
                  <div class="row">
                    <div class="col-sm-6">
                      <!-- select -->
                      <div class="form-group">
                        <label>Постановщик задачи</label>
                        <input type="text" class="form-control" id="task-master">
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>Целевое подразделение</label>
                        <input type="text" class="form-control" id="task-division">
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-6">
                      <!-- select -->
                      <div class="form-group">
                        <label>Конфигурация</label>
                        <select class="form-control" id="select-options-config">
                        </select>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>Тип задачи</label>
                        <select class="form-control" id="select-options-type">
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-6">
                      <!-- select -->
                      <div class="form-group">
                        <label>Приоритет выполнения</label>
                        <select class="form-control" id="select-options-priority">
                        </select>
                      </div>
                    </div>

                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>Выполнить до:</label>
                        <div class="input-group">
                          <input type="text" class="form-control float-right" id="reservation" autocomplete="off">
                          <div class="input-group-append">
                            <div class="input-group-text">
                              <i class="fa fa-calendar"></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
                <div class="form-group">
                  <label>Наименование задачи</label>
                  <input type="text" class="form-control" id="task-name" placeholder="Введите наименование">
                </div>
                <label>Описание задачи</label>
                <textarea id="summernote1" style="display: none;">
                </textarea>
              </div>
              <!-- /.card-body -->
              <div class="card-footer" id="buttons-container">
                <!--
                  <button type="submit" class="btn btn-primary">Передать в разработку</button>
                  <button type="submit" class="btn btn-primary">Передать на оценку</button>
                  <button type="submit" class="btn btn-primary">Сохранить</button>
                -->
              </div>
              <!-- /.card-footer -->
            </div>
            <!-- /.card -->
          </div>
          <!--/.col (left) -->
          <div class="col-md-6" style="padding: 0px;">
            <!-- Form Element sizes -->
            <div class="col-auto">
                <div class="card card-default" style="border-top: 3px solid #007bff;">
                  <div class="card-header">
                    <h3 class="card-title">Комментарий разработчика</h3>
                  </div>
                  <div class="card-body">
                    <form>
                        <div class="row">
                            <div class="col-sm-6">
                              <!-- select -->
                              <div class="form-group">
                                <label>Срок выполнения</label>
                                <input type="text" class="form-control" id="execution-time">
                              </div>
                            </div>
                            <div class="col-sm-6">
                              <div class="form-group">
                                <label>Оценка</label>
                                <input type="text" class="form-control" id="task-assessment">
                              </div>
                            </div>
                        </div>
                    </form>
                    <label>Комментарий разработчика</label>
                    <textarea id="summernote2" style="display: none;">
                    </textarea>
                  </div>
                  <!-- /.card-body -->
                </div>
            </div>
            <!-- /.card -->
            <div class="col-md-12">
                <!-- DIRECT CHAT PRIMARY -->
                <div class="card card-primary card-outline direct-chat direct-chat-primary">
                  <div class="card-header">
                    <h3 class="card-title">Чат</h3>
    
                    <div class="card-tools">
                      <!--
                          <span title="Новые сообщения" class="badge bg-primary">3</span>
                      -->
                      <button type="button" class="btn btn-tool" data-card-widget="collapse">
                          <i class="fas fa-minus"></i>
                      </button>
                    </div>
                  </div>
                  <!-- /.card-header -->
                  <div class="card-body">
                    <!-- Conversations are loaded here -->
                    <div class="direct-chat-messages" id="direct-chat-message-box" style="height: 280px">
                    </div>
                    <!--/.direct-chat-messages-->

                  </div>
                  <!-- /.card-body -->
                  <div class="card-footer">
                    <form action="#" method="post">
                      <div class="input-group">
                        <input type="text" name="message" placeholder="Введите сообщение..." class="form-control" id="message-input">
                        <span class="input-group-append">
                          <button class="btn btn-primary" id="message-send">
                            <i class="fas fa-chevron-circle-right"></i>
                          </button>
                        </span>
                      </div>
                    </form>
                  </div>
                  <!-- /.card-footer-->
                </div>
                <!--/.direct-chat -->
            </div>
          </div>
          <!--/.col (right) -->

        </div>
        <!-- /.row -->
      </div><!-- /.container-fluid -->
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
    <div class="p-3">
      <h5>Title</h5>
      <p>Sidebar content</p>
    </div>
  </aside>
  <!-- /.control-sidebar -->

  <!-- Main Footer -->
</div>
<!-- ./wrapper -->

<!-- REQUIRED SCRIPTS -->
<!-- jQuery -->
<script src="../../plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="../../plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- Select2 -->
<script src="../../plugins/select2/js/select2.full.min.js"></script>
<!-- Bootstrap4 Duallistbox -->
<script src="../../plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
<!-- InputMask -->
<script src="../../plugins/moment/moment.min.js"></script>
<script src="../../plugins/inputmask/jquery.inputmask.min.js"></script>
<!-- date-range-picker -->
<script src="../../plugins/daterangepicker/daterangepicker.js"></script>
<!-- bootstrap color picker -->
<script src="../../plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="../../plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Bootstrap Switch -->
<script src="../../plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<!-- BS-Stepper -->
<script src="../../plugins/bs-stepper/js/bs-stepper.min.js"></script>
<!-- AdminLTE App -->
<script src="../../dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<!--
  <script src="./dist/js/demo.js"></script>
-->
<!-- Summernote -->
<script src="../../plugins/summernote/summernote-bs4.min.js"></script>
<script src="../../plugins/summernote/summernote-ru-RU.js"></script>
<!-- Page specific script -->
<script>
  $(function () {
    $('#summernote1').summernote({ 
        lang: 'ru-RU',
        toolbar: [],
        disableResizeEditor: true,
        disableDragAndDrop: true,
    });

    $('#summernote2').summernote({ 
        lang: 'ru-RU',
        toolbar: [],
        disableResizeEditor: true,
        disableDragAndDrop: true,
    });

    //Date range picker
    $('#reservation').daterangepicker({
      "autoUpdateInput": false,
      "singleDatePicker": true,
      "showWeekNumbers": true,
      "autoApply": true,
      "locale": {
        "format": "DD.MM.YYYY",
        "separator": " - ",
        "applyLabel": "Apply",
        "cancelLabel": "Cancel",
        "fromLabel": "From",
        "toLabel": "To",
        "customRangeLabel": "Custom",
        "weekLabel": "Нед.",
        "daysOfWeek": [
            "Вс",
            "Пн",
            "Вт",
            "Ср",
            "Чт",
            "Пт",
            "Сб"
        ],
        "monthNames": [
            "Январь",
            "Февраль",
            "Март",
            "Апрель",
            "Май",
            "Июнь",
            "Июль",
            "Август",
            "Сентябрь",
            "Октябрь",
            "Ноябрь",
            "Декабрь"
        ],
        "firstDay": 1
     },
    })
    $('#reservation').on('apply.daterangepicker', function(ev, picker) {
      $(this).val(picker.startDate.format("DD.MM.YYYY"));
    });
  });
  
</script>
<!-- Custom Scripts -->
<script type="module" src="../../static/JS/main_ViewTask.js"></script>
<!--
-->
<!--
  <script src="static/_MyContent/myDrawTable.js"></script>
-->
</body>
</html>