<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>1CER.RU</title>
  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="./plugins/fontawesome-free/css/all.min.css">
  <!-- daterange picker -->
  <link rel="stylesheet" href="./plugins/daterangepicker/daterangepicker.css">
  <!-- iCheck for checkboxes and radio inputs -->
  <link rel="stylesheet" href="./plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <!-- Bootstrap Color Picker -->
  <link rel="stylesheet" href="./plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet" href="./plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
  <!-- Select2 -->
  <link rel="stylesheet" href="./plugins/select2/css/select2.min.css">
  <link rel="stylesheet" href="./plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css">
  <!-- Bootstrap4 Duallistbox -->
  <link rel="stylesheet" href="./plugins/bootstrap4-duallistbox/bootstrap-duallistbox.min.css">
  <!-- BS Stepper -->
  <link rel="stylesheet" href="./plugins/bs-stepper/css/bs-stepper.min.css">
  <!-- dropzonejs -->
  <link rel="stylesheet" href="./plugins/dropzone/min/dropzone.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="./dist/css/adminlte.min.css">
  <!-- summernote -->
  <link rel="stylesheet" href="./plugins/summernote/summernote-bs4.min.css">
  <!-- CodeMirror -->
  <link rel="stylesheet" href="./plugins/codemirror/codemirror.css">
  <link rel="stylesheet" href="./plugins/codemirror/theme/monokai.css">
  <!-- Custom styles-->
  <link rel="stylesheet" href="./static/CSS/custom.css">
  <link rel="stylesheet" href="./static/CSS/modal-box.css">
  <link rel="stylesheet" href="./static/CSS/modal-box.css">
  <link rel="stylesheet" href="./static/CSS/loading.css">
  <style id="__web-inspector-hide-shortcut-style__">
    .__web-inspector-hide-shortcut__, .__web-inspector-hide-shortcut__ *, .__web-inspector-hidebefore-shortcut__::before, .__web-inspector-hideafter-shortcut__::after
    {
        visibility: hidden !important;
    }
    .note-editing-area {
        min-height: 200px;
    }
  </style>
</head>
<body class="hold-transition sidebar-mini">
  <div id="pop-up-box" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <!---->
      <span id="close-btn" class="close">&times;</span>
      <h5 id="pop-up-box-message-text"></h5>
    </div>
  </div>
  <div id="pop-up-box-loading" class="modal" style="display: block;">
    <!-- Modal content -->
    <div class="pop-up-loading">
      <div id="moveable">
      </div>
      <div id="moveable1">
      </div>
      <div id="moveable2">
      </div>
      <div id="moveable3">
      </div>
      <div id="moveable4">
      </div>
      <div id="moveable5">
      </div>
    </div>
  </div>
  <script>
    const STORAGE = localStorage.getItem('token') ? localStorage : sessionStorage;
    const TOKEN = STORAGE.getItem('token');
    const popUpBoxLoading = document.querySelector("#pop-up-box-loading");
  
    if (TOKEN) {
        popUpBoxLoading.style.display = "block";
        fetch (
          '/api/user/current', 
          {
            method: "GET",
            headers: {
                "Authorization": TOKEN,
            }
          })
          .then((resp)=>{
              let data = resp.json();
              return data;
          })
          .then((data) => {
              if (data.error) {
                STORAGE.clear();
                location.href = "/";
              }
          })
    } else {
      location.href = "/";
    }
  </script>

<div class="wrapper">
  
  <!-- Preloader
  <div class="preloader">
    <img src="./static/monkey.jpg" alt="1CER.RU">
  </div>
  -->

  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
      </li>
    </ul>
  </nav>
  <!-- /.navbar -->

  <!-- Main Sidebar Container -->
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a class="brand-link" id="brand-link">
      <!--<img src="dist/img/AdminLTELogo.png" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity: .8">-->
      <span class="brand-text font-weight-light" style="text-align: center;">1CER.RU</span>
    </a>

    <div class="sidebar">
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar nav-child-indent flex-column" data-widget="treeview" role="menu" data-accordion="false" id="menu-btn-container">
          <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->

        </ul>
      </nav>
    </div>
    <div class="sidebar">
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar nav-child-indent flex-column" data-widget="treeview" role="menu" data-accordion="false" id=logout-btn>
          <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->

        </ul>
      </nav>

    </div>
    
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper" style="min-height: 2168.88px;">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="m-0" class="col-sm-6">
            <h1>Добавить задачу</h1>
            <h5 id="sub-header"></h5>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">
        <div class="row">
          <!-- left column -->
          <div class="col-md-6">
            <!-- general form elements -->
            <div class="card card-primary" style="border-top: 3px solid #007bff;">
              <!-- /.card-header -->
              <div class="card-body">
                <form>
                  <div class="row">
                    <div class="col-sm-6">
                      <!-- select -->
                      <div class="form-group">
                        <label>Конфигурация</label>
                        <select class="form-control" id="select-options-config">
                        </select>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>Тип задачи</label>
                        <select class="form-control" id="select-options-type">
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-6">
                      <!-- select -->
                      <div class="form-group">
                        <label>Приоритет выполнения</label>
                        <select class="form-control" id="select-options-priority">
                        </select>
                      </div>
                    </div>

                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>Выполнить до:</label>
                        <div class="input-group">
                          <input type="text" class="form-control float-right" id="reservation" autocomplete="off">
                          <div class="input-group-append" >
                            <div class="input-group-text" id="reservation2">
                              <i class="fa fa-calendar"></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
                <div class="form-group">
                  <label>Наименование задачи</label>
                  <input type="text" class="form-control" id="task-name" placeholder="Введите наименование">
                </div>
                <label>Описание задачи</label>
                <textarea id="summernote" style="display: none;">
                </textarea>

                <div class="callout">

                  <label>Перетащите сюда файл или выберите на устройтве</label>
                  <div id="actions" class="row">
                    <div class="col-lg-12">
                      <div class="btn-group w-100">
                        <span class="btn btn-primary col fileinput-button dz-clickable">
                          <i class="fas fa-plus"></i>
                          <span>Добавить файл</span>
                        </span>
                      </div>
                    </div>
                  </div>
                  
                  <div class="table table-striped files" id="previews">
                    <div id="template" class="row mt-2">
                      <div class="col-auto">
                          <span class="preview"><img src="data:," alt="" data-dz-thumbnail /></span>
                      </div>
                      <div class="col d-flex align-items-center">
                          <p class="mb-0">
                            <span class="lead" data-dz-name></span>
                            <span data-dz-size></span>
                          </p>
                          <strong class="error text-danger" data-dz-errormessage></strong>
                      </div>
                      <div class="col-4 d-flex align-items-center">
                          <div class="progress progress-striped active w-100" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                            <div class="progress-bar progress-bar-success" style="width:0%;" data-dz-uploadprogress></div>
                          </div>
                      </div>
                      <div class="col-auto d-flex align-items-center">
                        <div class="btn-group">
                          <button data-dz-remove class="btn btn-primary delete">
                            <i class="fas fa-trash"></i>
                            <span>Удалить</span>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div> 

              </div>
              <!-- /.card-body -->
              <div class="card-footer" id="buttons-container">
                <!--
                  <button type="submit" class="btn btn-primary">Передать в разработку</button>
                  <button type="submit" class="btn btn-primary">Передать на оценку</button>
                  <button type="submit" class="btn btn-primary">Сохранить</button>
                -->
              </div>
              <!-- /.card-footer -->
            </div>
            <!-- /.card -->
          </div>
          <!--/.col (left) -->

        </div>
        <!-- /.row -->
      </div><!-- /.container-fluid -->
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
    <div class="p-3">
      <h5>Title</h5>
      <p>Sidebar content</p>
    </div>
  </aside>
  <!-- /.control-sidebar -->

  <!-- Main Footer -->
</div>
<!-- ./wrapper -->

<!-- REQUIRED SCRIPTS -->
<!-- jQuery -->
<script src="./plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="./plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- Select2 -->
<script src="./plugins/select2/js/select2.full.min.js"></script>
<!-- Bootstrap4 Duallistbox -->
<script src="./plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
<!-- InputMask -->
<script src="./plugins/moment/moment.min.js"></script>
<script src="./plugins/inputmask/jquery.inputmask.min.js"></script>
<!-- date-range-picker -->
<script src="./plugins/daterangepicker/daterangepicker.js"></script>
<!-- bootstrap color picker -->
<script src="./plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="./plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Bootstrap Switch -->
<script src="./plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<!-- BS-Stepper -->
<script src="./plugins/bs-stepper/js/bs-stepper.min.js"></script>
<!-- dropzonejs -->
<script src="./plugins/dropzone/min/dropzone.min.js"></script>
<!-- AdminLTE App -->
<script src="./dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<!--
  <script src="./dist/js/demo.js"></script>
-->
<!-- Summernote -->
<script src="./plugins/summernote/summernote-bs4.min.js"></script>
<script src="./plugins/summernote/summernote-ru-RU.js"></script>
<!-- Page specific script -->
<script>
  $(function () {
    $('#summernote').summernote({ lang: 'ru-RU' });
    //Date range picker
    $('#reservation').daterangepicker({
      "autoUpdateInput": false,
      "singleDatePicker": true,
      "showWeekNumbers": true,
      "autoApply": true,
      "locale": {
        "format": "DD.MM.YYYY",
        "separator": " - ",
        "applyLabel": "Apply",
        "cancelLabel": "Cancel",
        "fromLabel": "From",
        "toLabel": "To",
        "customRangeLabel": "Custom",
        "weekLabel": "Нед.",
        "daysOfWeek": [
            "Вс",
            "Пн",
            "Вт",
            "Ср",
            "Чт",
            "Пт",
            "Сб"
        ],
        "monthNames": [
            "Январь",
            "Февраль",
            "Март",
            "Апрель",
            "Май",
            "Июнь",
            "Июль",
            "Август",
            "Сентябрь",
            "Октябрь",
            "Ноябрь",
            "Декабрь"
        ],
        "firstDay": 1
     },
    })
    $('#reservation').on('apply.daterangepicker', function(ev, picker) {
      $(this).val(picker.startDate.format("DD.MM.YYYY"));
    });
    $('#reservation2').on('apply.daterangepicker', function(ev, picker) {
      $(this).val(picker.startDate.format("DD.MM.YYYY"));
    });
    
  });
  
</script>
<!-- Custom Scripts -->
<script type="module" src="./static/JS/main_NewTask.js"></script>
<!--
-->
<!--
  <script src="static/_MyContent/myDrawTable.js"></script>
-->
</body>
</html>
